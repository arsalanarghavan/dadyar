/* ===== RTL (Right-to-Left) ===== */

/* ── Global direction ── */
html, body,
.stApp,
.main,
.main .block-container {
    direction: rtl !important;
}

/* ── Text alignment ── */
h1, h2, h3, h4, h5, h6,
p, li, span, label, caption,
.stMarkdown, .stAlert,
[data-testid="stMetricLabel"],
[data-testid="stMetricValue"],
[data-testid="stCaptionContainer"] {
    text-align: right !important;
}

/* ── Input fields ── */
input, textarea, select {
    direction: rtl !important;
    text-align: right !important;
}
input::placeholder,
textarea::placeholder {
    direction: rtl !important;
    text-align: right !important;
}

/* ── Labels above inputs ── */
.stTextInput label p,
.stTextArea label p,
.stSelectbox label p,
.stNumberInput label p {
    text-align: right !important;
    direction: rtl !important;
    width: 100%;
}

/* ── Help text (small text under inputs) ── */
.stTextInput [data-testid="stWidgetLabel"],
.stTextArea [data-testid="stWidgetLabel"],
.stSelectbox [data-testid="stWidgetLabel"],
.stNumberInput [data-testid="stWidgetLabel"] {
    direction: rtl !important;
    text-align: right !important;
    width: 100%;
}

/* Tooltip icon: move to left side */
[data-testid="stTooltipIcon"] {
    order: -1;
    margin-left: 0 !important;
    margin-right: 0.375rem !important;
}

/* ── Lists ── */
ul, ol {
    padding-right: 1.5rem !important;
    padding-left: 0 !important;
}

/* ── Columns: reverse order for RTL ── */
[data-testid="stHorizontalBlock"],
.stHorizontalBlock {
    flex-direction: row-reverse !important;
}
[data-testid="column"],
[data-testid="column"] > div {
    direction: rtl !important;
}

/* ── Sidebar ── */
section[data-testid="stSidebar"],
section[data-testid="stSidebar"] > div,
section[data-testid="stSidebar"] * {
    direction: rtl !important;
    text-align: right !important;
}
/* Sidebar branding: center-aligned text override */
section[data-testid="stSidebar"] div[style*="text-align:center"] * {
    text-align: center !important;
}

/* ── Tabs: reverse order ── */
.stTabs { direction: rtl !important; }
.stTabs [data-baseweb="tab-list"] {
    flex-direction: row-reverse !important;
}
.stTabs [data-baseweb="tab"] {
    direction: rtl !important;
}

/* ── Expander: arrow on the left ── */
details[data-testid="stExpander"] summary {
    direction: rtl !important;
    text-align: right !important;
}

/* ── Form ── */
[data-testid="stForm"] {
    direction: rtl !important;
}
.stFormSubmitButton {
    direction: rtl !important;
}

/* ── Metrics ── */
[data-testid="stMetric"] {
    direction: rtl !important;
}

/* ── Selectbox dropdown ── */
.stSelectbox,
.stSelectbox > div,
[data-baseweb="select"],
[data-baseweb="select"] > div {
    direction: rtl !important;
}

/* ── Keep code blocks LTR ── */
code, pre, .stCode,
.stMarkdown code,
.stMarkdown pre {
    direction: ltr !important;
    text-align: left !important;
}

/* ── Keep Plotly LTR ── */
.js-plotly-plot,
.js-plotly-plot .plotly {
    direction: ltr !important;
}
.js-plotly-plot text {
    font-family: 'Vazirmatn', system-ui, sans-serif !important;
}

/* ── Block container padding ── */
.main .block-container {
    padding-right: 2rem !important;
    padding-left: 2rem !important;
}

/* ── Text rendering ── */
p, h1, h2, h3, h4, h5, h6, span, div, label {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}
